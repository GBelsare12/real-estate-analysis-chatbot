{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gayat\\\\real-estate-chatbot\\\\frontend\\\\src\\\\RealEstateChatbot.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend } from 'chart.js';\nimport { Line } from 'react-chartjs-2';\n\n// Register Chart.js components required for the Line chart\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend);\n\n// --- 1. API Utility ---\n// Matches the address where your Django backend is running\nconst API_BASE = \"http://127.0.0.1:8000/api\";\nconst fetchQuery = async query => {\n  try {\n    // FIX: Used backticks (`) for template literal\n    const res = await axios.post(`${API_BASE}/query/`, {\n      query,\n      use_llm: false // Set to true if you configured your OpenAI key in Django\n    });\n    return res.data;\n  } catch (error) {\n    var _error$response, _error$response$data;\n    console.error(\"API Fetch Error:\", error.response ? error.response.data : error.message);\n    // Throw a clearer error message for the user to see in the UI\n    throw new Error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || \"Could not connect to Django API. Please check your backend terminal for errors or ensure the server is running.\");\n  }\n};\n\n// --- 2. Components ---\n\n// Loader Component\nconst Loader = () => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"flex justify-center items-center p-8\",\n  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-500 dark:border-indigo-300\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n    className: \"ml-3 text-gray-600 dark:text-gray-400\",\n    children: \"Processing query... This may take a moment.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 32,\n  columnNumber: 5\n}, this);\n\n// Sidebar Component (Includes Dark/Light Mode Toggle)\n_c = Loader;\nconst Sidebar = ({\n  isDark,\n  toggleDark\n}) =>\n/*#__PURE__*/\n// FIX: Used backticks (`) for template literal for dynamic class names\n_jsxDEV(\"div\", {\n  className: `fixed h-full w-64 p-5 flex flex-col ${isDark ? 'bg-gray-900 text-gray-100' : 'bg-gray-800 text-white'} shadow-2xl z-10 transition-colors duration-300`,\n  children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n    className: \"text-xl font-bold mb-8 flex items-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n      className: \"w-6 h-6 mr-2 text-indigo-400\",\n      fill: \"none\",\n      stroke: \"currentColor\",\n      viewBox: \"0 0 24 24\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      children: /*#__PURE__*/_jsxDEV(\"path\", {\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        strokeWidth: \"2\",\n        d: \"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-9v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), \"Real Estate AI\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex-grow\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center p-3 rounded-lg bg-indigo-700 font-medium transition duration-150\",\n      children: \"Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-8 text-xs text-gray-400\",\n      children: \"Project Status: Running\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: toggleDark,\n    className: \"w-full mt-4 p-2 rounded-lg text-sm transition duration-200 hover:bg-indigo-700 bg-indigo-600 text-white font-semibold flex justify-center items-center shadow-md\",\n    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n      className: \"w-5 h-5 mr-2\",\n      fill: \"none\",\n      stroke: \"currentColor\",\n      viewBox: \"0 0 24 24\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      children: /*#__PURE__*/_jsxDEV(\"path\", {\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        strokeWidth: \"2\",\n        d: isDark ? \"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z\" : \"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), isDark ? 'Light Mode' : 'Dark Mode']\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 41,\n  columnNumber: 5\n}, this);\n\n// QueryBox Component\n_c2 = Sidebar;\nconst QueryBox = ({\n  onSubmit,\n  disabled\n}) => {\n  _s();\n  // Default query is set here, ready to test functionality immediately\n  const [query, setQuery] = useState(\"Analyze Wakad price trends\");\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (query.trim() !== \"\") {\n      onSubmit(query);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"mb-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex space-x-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"flex-grow p-4 border border-gray-300 rounded-xl focus:ring-indigo-500 focus:border-indigo-500 shadow-lg text-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white transition duration-150\",\n        type: \"text\",\n        placeholder: \"E.g., Analyze Ambegaon Budruk demand trends...\",\n        value: query,\n        onChange: e => setQuery(e.target.value),\n        disabled: disabled\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        // FIX: Used backticks (`) for template literal for dynamic class names\n        className: `px-8 py-3 rounded-xl text-white font-semibold text-lg transition duration-200 shadow-md ${disabled ? 'bg-gray-400 cursor-not-allowed' : 'bg-indigo-600 hover:bg-indigo-700'}`,\n        type: \"submit\",\n        disabled: disabled,\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 9\n  }, this);\n};\n\n// SummaryCard Component\n_s(QueryBox, \"Zz/48UJtg2hY8DVcj7jaNsosbps=\");\n_c3 = QueryBox;\nconst SummaryCard = ({\n  summary,\n  area\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"bg-white dark:bg-gray-800 shadow-xl rounded-xl p-6 mb-8 border border-indigo-400/50 transition-colors duration-300\",\n  children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n    className: \"text-2xl font-bold text-indigo-600 dark:text-indigo-400 mb-4\",\n    children: [\"Analysis Summary: \", area || 'Loading...']\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"text-gray-700 dark:text-gray-300 whitespace-pre-line\",\n    children: summary || \"Submit a query to see the real estate analysis summary here.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 109,\n  columnNumber: 5\n}, this);\n\n// TrendChart Component (Includes Download Chart Button)\n_c4 = SummaryCard;\nconst TrendChart = ({\n  chart,\n  areaName\n}) => {\n  _s2();\n  // Ref is used to access the Chart.js DOM element for download\n  const chartRef = useRef(null);\n  if (!chart || !chart.years || chart.years.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-8 bg-white dark:bg-gray-800 shadow-xl rounded-xl text-center text-gray-500 dark:text-gray-400\",\n      children: \"No chart data available for this query.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 16\n    }, this);\n  }\n\n  // Function to handle chart download (Bonus Requirement)\n  const handleDownload = () => {\n    const chartInstance = chartRef.current;\n    if (chartInstance && chartInstance.toBase64Image) {\n      // Use built-in Chart.js function to get PNG image data\n      const imageURL = chartInstance.toBase64Image('image/png', 1.0);\n      const a = document.createElement('a');\n      a.href = imageURL;\n      // FIX: Used backticks (`) for template literal for file name\n      a.download = `${areaName || 'real_estate'}_trend_chart.png`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n    }\n  };\n  const chartData = {\n    labels: chart.years,\n    datasets: [{\n      label: \"Weighted Avg Rate (INR)\",\n      data: chart.rates.overall,\n      borderColor: 'rgb(79, 70, 229)',\n      // Indigo 600\n      backgroundColor: 'rgba(79, 70, 229, 0.5)',\n      borderWidth: 3,\n      tension: 0.3,\n      yAxisID: 'yRate'\n    }, {\n      label: \"Total Demand (Units Sold)\",\n      data: chart.demand,\n      borderColor: 'rgb(239, 68, 68)',\n      // Red 500\n      backgroundColor: 'rgba(239, 68, 68, 0.5)',\n      borderWidth: 3,\n      tension: 0.3,\n      yAxisID: 'yDemand'\n    }]\n  };\n\n  // Chart options for styling, responsiveness, and dark mode compatibility\n  const options = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        position: 'top',\n        labels: {\n          color: document.documentElement.classList.contains('dark') ? 'rgb(156, 163, 175)' : 'rgb(107, 114, 128)'\n        }\n      },\n      title: {\n        display: true,\n        // FIX: Used backticks (`) for template literal for chart title\n        text: `Price & Demand Trends for ${areaName}`,\n        color: document.documentElement.classList.contains('dark') ? 'rgb(209, 213, 219)' : 'rgb(55, 65, 81)'\n      }\n    },\n    scales: {\n      x: {\n        ticks: {\n          color: document.documentElement.classList.contains('dark') ? 'rgb(156, 163, 175)' : 'rgb(107, 114, 128)'\n        },\n        grid: {\n          color: 'rgba(209, 213, 219, 0.1)'\n        }\n      },\n      yRate: {\n        type: 'linear',\n        display: true,\n        position: 'left',\n        title: {\n          display: true,\n          text: 'Avg Rate (INR)',\n          color: 'rgb(79, 70, 229)'\n        },\n        ticks: {\n          color: document.documentElement.classList.contains('dark') ? 'rgb(156, 163, 175)' : 'rgb(79, 70, 229)'\n        },\n        grid: {\n          color: 'rgba(209, 213, 219, 0.1)'\n        }\n      },\n      yDemand: {\n        type: 'linear',\n        display: true,\n        position: 'right',\n        title: {\n          display: true,\n          text: 'Demand (Units)',\n          color: 'rgb(239, 68, 68)'\n        },\n        ticks: {\n          color: document.documentElement.classList.contains('dark') ? 'rgb(156, 163, 175)' : 'rgb(239, 68, 68)'\n        },\n        grid: {\n          drawOnChartArea: false\n        }\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white dark:bg-gray-800 shadow-xl rounded-xl p-6 mb-8 border border-indigo-400/50 transition-colors duration-300\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-semibold text-gray-800 dark:text-gray-200\",\n        children: \"Price & Demand Trends Over Time\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleDownload,\n        className: \"px-4 py-2 text-sm rounded-lg text-white bg-green-600 hover:bg-green-700 transition duration-150 flex items-center shadow-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-4 h-4 mr-2\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          xmlns: \"http://www.w3.org/2000/svg\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: \"2\",\n            d: \"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 21\n        }, this), \"Download Chart (PNG)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-[400px] w-full\",\n      children: /*#__PURE__*/_jsxDEV(Line, {\n        ref: chartRef,\n        data: chartData,\n        options: options\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 214,\n    columnNumber: 9\n  }, this);\n};\n\n// DataTable Component (Includes Download Table Button)\n_s2(TrendChart, \"aW/6lq35noP8VJrK3G9P8gm4OYM=\");\n_c5 = TrendChart;\nconst DataTable = ({\n  table\n}) => {\n  if (!table || table.length === 0) {\n    return null;\n  }\n\n  // Get all unique keys from all objects to form headers\n  const headers = Object.keys(table[0]).filter(key => key !== 'id');\n\n  // Function to handle table download as CSV (Bonus Requirement)\n  const handleDownloadCSV = () => {\n    // Prepare header row with capitalized titles\n    // FIX: Used backticks (`) for template literal for file name and CSV content\n    let csvContent = headers.map(h => `\"${h.split(' ').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ')}\"`).join(',') + '\\n';\n\n    // Add data rows\n    table.forEach(row => {\n      const rowData = headers.map(header => {\n        let value = row[header];\n        if (value === undefined || value === null) value = '';\n        // Simple CSV formatting to handle commas and quotes in data\n        return `\"${String(value).replace(/\"/g, '\"\"')}\"`;\n      }).join(',');\n      csvContent += rowData + '\\n';\n    });\n    const blob = new Blob([csvContent], {\n      type: 'text/csv;charset=utf-8;'\n    });\n    const link = document.createElement(\"a\");\n    const url = URL.createObjectURL(blob);\n    link.setAttribute(\"href\", url);\n    link.setAttribute(\"download\", \"real_estate_data_details.csv\");\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white dark:bg-gray-800 shadow-xl rounded-xl p-6 border border-indigo-400/50 transition-colors duration-300 overflow-x-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-semibold text-gray-800 dark:text-gray-200\",\n        children: \"Filtered Detailed Data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleDownloadCSV,\n        className: \"px-4 py-2 text-sm rounded-lg text-white bg-indigo-600 hover:bg-indigo-700 transition duration-150 flex items-center shadow-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-4 h-4 mr-2\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          xmlns: \"http://www.w3.org/2000/svg\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: \"2\",\n            d: \"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 21\n        }, this), \"Download Table (CSV)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"min-w-full divide-y divide-gray-200 dark:divide-gray-700\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        className: \"bg-indigo-50 dark:bg-gray-700\",\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: headers.map(header => /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",\n            children: header.split(' ').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ')\n          }, header, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        className: \"divide-y divide-gray-200 dark:divide-gray-700\",\n        children: table.map((row, rowIndex) => /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"hover:bg-indigo-50/50 dark:hover:bg-gray-700/50 transition-colors duration-150\",\n          children: headers.map(header => /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100\",\n            children: row[header] === undefined || row[header] === null ? '-' : String(row[header])\n          }, header, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 33\n          }, this))\n        }, rowIndex, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 272,\n    columnNumber: 9\n  }, this);\n};\n\n// --- 3. Main Application Component (App) ---\n_c6 = DataTable;\nconst App = () => {\n  _s3();\n  const [loading, setLoading] = useState(false);\n  const [summary, setSummary] = useState(\"\");\n  const [chartData, setChartData] = useState(null);\n  const [tableData, setTableData] = useState([]);\n  const [areaName, setAreaName] = useState(\"\");\n  const [error, setError] = useState(null);\n  const [isDark, setIsDark] = useState(true);\n\n  // Initial dark mode setup (using Tailwind's dark class)\n  useEffect(() => {\n    // Toggle 'dark' class on the HTML element based on state\n    document.documentElement.classList.toggle('dark', isDark);\n  }, [isDark]);\n  const toggleDark = () => setIsDark(prev => !prev);\n  const handleQuery = async text => {\n    setError(null);\n    setLoading(true);\n    setAreaName(\"Processing...\");\n    try {\n      const res = await fetchQuery(text);\n      setSummary(res.summary);\n      setChartData(res.chart);\n      setTableData(res.table);\n      setAreaName(res.area);\n    } catch (e) {\n      console.error(\"Query Error:\", e.message);\n      setError(e.message);\n      // Provide a friendly error message for the UI\n      setSummary(\"Could not perform the analysis. Please check your Django backend logs for errors or ensure the area name is valid (e.g., 'Wakad').\");\n      setChartData(null);\n      setTableData([]);\n      setAreaName(\"Error\");\n    }\n    setLoading(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen flex bg-gray-50 dark:bg-gray-900 font-sans transition-colors duration-300\",\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n      isDark: isDark,\n      toggleDark: toggleDark\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"flex-grow ml-64 p-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"header\", {\n          className: \"mb-10 pt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-3xl font-extrabold text-gray-900 dark:text-white\",\n            children: \"Real Estate Market Dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-1 text-sm text-gray-500 dark:text-gray-400\",\n            children: \"Ask a question to analyze trends for any locality in the dataset.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(QueryBox, {\n          onSubmit: handleQuery,\n          disabled: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 21\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4 dark:bg-red-900/50 dark:border-red-600 dark:text-red-400\",\n          role: \"alert\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            className: \"font-bold\",\n            children: \"Error! \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"block sm:inline\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 25\n        }, this), loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [!areaName && !error && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-8 text-center text-gray-500 dark:text-gray-400 border border-dashed border-gray-300 dark:border-gray-700 rounded-xl\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xl\",\n              children: \"Welcome! Submit a query like \\\"Analyze Wakad\\\" to get started.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-2 text-sm\",\n              children: \"Make sure your Django server is running at **http://127.0.0.1:8000** and the **dataset.xlsx** file is accessible in your **data** folder.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 33\n          }, this), areaName && areaName !== \"Processing...\" && areaName !== \"Error\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(SummaryCard, {\n              summary: summary,\n              area: areaName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(TrendChart, {\n              chart: chartData,\n              areaName: areaName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(DataTable, {\n              table: tableData\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 361,\n    columnNumber: 9\n  }, this);\n};\n_s3(App, \"jvvz6LL0i2SpgDY8HlrdpmmEFmw=\");\n_c7 = App;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n$RefreshReg$(_c, \"Loader\");\n$RefreshReg$(_c2, \"Sidebar\");\n$RefreshReg$(_c3, \"QueryBox\");\n$RefreshReg$(_c4, \"SummaryCard\");\n$RefreshReg$(_c5, \"TrendChart\");\n$RefreshReg$(_c6, \"DataTable\");\n$RefreshReg$(_c7, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","Line","jsxDEV","_jsxDEV","Fragment","_Fragment","register","API_BASE","fetchQuery","query","res","post","use_llm","data","error","_error$response","_error$response$data","console","response","message","Error","Loader","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","Sidebar","isDark","toggleDark","fill","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","d","onClick","_c2","QueryBox","onSubmit","disabled","_s","setQuery","handleSubmit","e","preventDefault","trim","type","placeholder","value","onChange","target","_c3","SummaryCard","summary","area","_c4","TrendChart","chart","areaName","_s2","chartRef","years","length","handleDownload","chartInstance","current","toBase64Image","imageURL","a","document","createElement","href","download","body","appendChild","click","removeChild","chartData","labels","datasets","label","rates","overall","borderColor","backgroundColor","borderWidth","tension","yAxisID","demand","options","responsive","maintainAspectRatio","plugins","legend","position","color","documentElement","classList","contains","title","display","text","scales","x","ticks","grid","yRate","yDemand","drawOnChartArea","ref","_c5","DataTable","table","headers","Object","keys","filter","key","handleDownloadCSV","csvContent","map","h","split","word","charAt","toUpperCase","slice","join","forEach","row","rowData","header","undefined","String","replace","blob","Blob","link","url","URL","createObjectURL","setAttribute","rowIndex","_c6","App","_s3","loading","setLoading","setSummary","setChartData","tableData","setTableData","setAreaName","setError","setIsDark","toggle","prev","handleQuery","role","_c7","$RefreshReg$"],"sources":["C:/Users/gayat/real-estate-chatbot/frontend/src/RealEstateChatbot.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend } from 'chart.js';\r\nimport { Line } from 'react-chartjs-2';\r\n\r\n// Register Chart.js components required for the Line chart\r\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend);\r\n\r\n// --- 1. API Utility ---\r\n// Matches the address where your Django backend is running\r\nconst API_BASE = \"http://127.0.0.1:8000/api\";\r\n\r\nconst fetchQuery = async (query) => {\r\n    try {\r\n        // FIX: Used backticks (`) for template literal\r\n        const res = await axios.post(`${API_BASE}/query/`, { \r\n            query,\r\n            use_llm: false, // Set to true if you configured your OpenAI key in Django\r\n        });\r\n        return res.data;\r\n    } catch (error) {\r\n        console.error(\"API Fetch Error:\", error.response ? error.response.data : error.message);\r\n        // Throw a clearer error message for the user to see in the UI\r\n        throw new Error(error.response?.data?.error || \"Could not connect to Django API. Please check your backend terminal for errors or ensure the server is running.\");\r\n    }\r\n};\r\n\r\n// --- 2. Components ---\r\n\r\n// Loader Component\r\nconst Loader = () => (\r\n    <div className=\"flex justify-center items-center p-8\">\r\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-500 dark:border-indigo-300\"></div>\r\n        <span className=\"ml-3 text-gray-600 dark:text-gray-400\">Processing query... This may take a moment.</span>\r\n    </div>\r\n);\r\n\r\n// Sidebar Component (Includes Dark/Light Mode Toggle)\r\nconst Sidebar = ({ isDark, toggleDark }) => (\r\n    // FIX: Used backticks (`) for template literal for dynamic class names\r\n    <div className={`fixed h-full w-64 p-5 flex flex-col ${isDark ? 'bg-gray-900 text-gray-100' : 'bg-gray-800 text-white'} shadow-2xl z-10 transition-colors duration-300`}>\r\n        <h1 className=\"text-xl font-bold mb-8 flex items-center\">\r\n            <svg className=\"w-6 h-6 mr-2 text-indigo-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-9v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"></path>\r\n            </svg>\r\n            Real Estate AI\r\n        </h1>\r\n        \r\n        <div className=\"flex-grow\">\r\n            <div className=\"flex items-center p-3 rounded-lg bg-indigo-700 font-medium transition duration-150\">\r\n                Dashboard\r\n            </div>\r\n            <div className=\"mt-8 text-xs text-gray-400\">\r\n                Project Status: Running\r\n            </div>\r\n        </div>\r\n\r\n        <button \r\n            onClick={toggleDark}\r\n            className=\"w-full mt-4 p-2 rounded-lg text-sm transition duration-200 hover:bg-indigo-700 bg-indigo-600 text-white font-semibold flex justify-center items-center shadow-md\"\r\n        >\r\n            <svg className=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d={isDark ? \"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z\" : \"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z\"}></path>\r\n            </svg>\r\n            {isDark ? 'Light Mode' : 'Dark Mode'}\r\n        </button>\r\n    </div>\r\n);\r\n\r\n\r\n// QueryBox Component\r\nconst QueryBox = ({ onSubmit, disabled }) => {\r\n    // Default query is set here, ready to test functionality immediately\r\n    const [query, setQuery] = useState(\"Analyze Wakad price trends\");\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (query.trim() !== \"\") {\r\n            onSubmit(query);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} className=\"mb-8\">\r\n            <div className=\"flex space-x-3\">\r\n                <input\r\n                    className=\"flex-grow p-4 border border-gray-300 rounded-xl focus:ring-indigo-500 focus:border-indigo-500 shadow-lg text-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white transition duration-150\"\r\n                    type=\"text\"\r\n                    placeholder=\"E.g., Analyze Ambegaon Budruk demand trends...\"\r\n                    value={query}\r\n                    onChange={(e) => setQuery(e.target.value)}\r\n                    disabled={disabled}\r\n                />\r\n                <button\r\n                    // FIX: Used backticks (`) for template literal for dynamic class names\r\n                    className={`px-8 py-3 rounded-xl text-white font-semibold text-lg transition duration-200 shadow-md ${disabled ? 'bg-gray-400 cursor-not-allowed' : 'bg-indigo-600 hover:bg-indigo-700'}`}\r\n                    type=\"submit\"\r\n                    disabled={disabled}\r\n                >\r\n                    Search\r\n                </button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\n// SummaryCard Component\r\nconst SummaryCard = ({ summary, area }) => (\r\n    <div className=\"bg-white dark:bg-gray-800 shadow-xl rounded-xl p-6 mb-8 border border-indigo-400/50 transition-colors duration-300\">\r\n        <h2 className=\"text-2xl font-bold text-indigo-600 dark:text-indigo-400 mb-4\">\r\n            Analysis Summary: {area || 'Loading...'}\r\n        </h2>\r\n        <p className=\"text-gray-700 dark:text-gray-300 whitespace-pre-line\">\r\n            {summary || \"Submit a query to see the real estate analysis summary here.\"}\r\n        </p>\r\n    </div>\r\n);\r\n\r\n// TrendChart Component (Includes Download Chart Button)\r\nconst TrendChart = ({ chart, areaName }) => { \r\n    // Ref is used to access the Chart.js DOM element for download\r\n    const chartRef = useRef(null); \r\n\r\n    if (!chart || !chart.years || chart.years.length === 0) {\r\n        return <div className=\"p-8 bg-white dark:bg-gray-800 shadow-xl rounded-xl text-center text-gray-500 dark:text-gray-400\">No chart data available for this query.</div>;\r\n    }\r\n\r\n    // Function to handle chart download (Bonus Requirement)\r\n    const handleDownload = () => {\r\n        const chartInstance = chartRef.current; \r\n        \r\n        if (chartInstance && chartInstance.toBase64Image) {\r\n            // Use built-in Chart.js function to get PNG image data\r\n            const imageURL = chartInstance.toBase64Image('image/png', 1.0);\r\n            \r\n            const a = document.createElement('a');\r\n            a.href = imageURL;\r\n            // FIX: Used backticks (`) for template literal for file name\r\n            a.download = `${areaName || 'real_estate'}_trend_chart.png`;\r\n            document.body.appendChild(a);\r\n            a.click();\r\n            document.body.removeChild(a);\r\n        }\r\n    };\r\n\r\n    const chartData = {\r\n        labels: chart.years,\r\n        datasets: [\r\n            {\r\n                label: \"Weighted Avg Rate (INR)\",\r\n                data: chart.rates.overall,\r\n                borderColor: 'rgb(79, 70, 229)', // Indigo 600\r\n                backgroundColor: 'rgba(79, 70, 229, 0.5)',\r\n                borderWidth: 3,\r\n                tension: 0.3,\r\n                yAxisID: 'yRate',\r\n            },\r\n            {\r\n                label: \"Total Demand (Units Sold)\",\r\n                data: chart.demand,\r\n                borderColor: 'rgb(239, 68, 68)', // Red 500\r\n                backgroundColor: 'rgba(239, 68, 68, 0.5)',\r\n                borderWidth: 3,\r\n                tension: 0.3,\r\n                yAxisID: 'yDemand',\r\n            },\r\n        ],\r\n    };\r\n\r\n    // Chart options for styling, responsiveness, and dark mode compatibility\r\n    const options = {\r\n        responsive: true,\r\n        maintainAspectRatio: false, \r\n        plugins: {\r\n            legend: {\r\n                position: 'top',\r\n                labels: {\r\n                    color: document.documentElement.classList.contains('dark') ? 'rgb(156, 163, 175)' : 'rgb(107, 114, 128)' \r\n                }\r\n            },\r\n            title: {\r\n                display: true,\r\n                // FIX: Used backticks (`) for template literal for chart title\r\n                text: `Price & Demand Trends for ${areaName}`, \r\n                color: document.documentElement.classList.contains('dark') ? 'rgb(209, 213, 219)' : 'rgb(55, 65, 81)'\r\n            },\r\n        },\r\n        scales: {\r\n            x: {\r\n                ticks: { color: document.documentElement.classList.contains('dark') ? 'rgb(156, 163, 175)' : 'rgb(107, 114, 128)' },\r\n                grid: { color: 'rgba(209, 213, 219, 0.1)' }\r\n            },\r\n            yRate: {\r\n                type: 'linear',\r\n                display: true,\r\n                position: 'left',\r\n                title: { display: true, text: 'Avg Rate (INR)', color: 'rgb(79, 70, 229)' },\r\n                ticks: { color: document.documentElement.classList.contains('dark') ? 'rgb(156, 163, 175)' : 'rgb(79, 70, 229)' },\r\n                grid: { color: 'rgba(209, 213, 219, 0.1)' }\r\n            },\r\n            yDemand: {\r\n                type: 'linear',\r\n                display: true,\r\n                position: 'right',\r\n                title: { display: true, text: 'Demand (Units)', color: 'rgb(239, 68, 68)' },\r\n                ticks: { color: document.documentElement.classList.contains('dark') ? 'rgb(156, 163, 175)' : 'rgb(239, 68, 68)' },\r\n                grid: { drawOnChartArea: false }\r\n            },\r\n        }\r\n    };\r\n    \r\n\r\n    return (\r\n        <div className=\"bg-white dark:bg-gray-800 shadow-xl rounded-xl p-6 mb-8 border border-indigo-400/50 transition-colors duration-300\">\r\n            <div className=\"flex justify-between items-center mb-6\">\r\n                <h3 className=\"text-xl font-semibold text-gray-800 dark:text-gray-200\">Price & Demand Trends Over Time</h3>\r\n                <button\r\n                    onClick={handleDownload}\r\n                    className=\"px-4 py-2 text-sm rounded-lg text-white bg-green-600 hover:bg-green-700 transition duration-150 flex items-center shadow-md\"\r\n                >\r\n                    <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\"></path>\r\n                    </svg>\r\n                    Download Chart (PNG)\r\n                </button>\r\n            </div>\r\n            <div className=\"h-[400px] w-full\">\r\n                <Line ref={chartRef} data={chartData} options={options} />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// DataTable Component (Includes Download Table Button)\r\nconst DataTable = ({ table }) => {\r\n    if (!table || table.length === 0) {\r\n        return null;\r\n    }\r\n\r\n    // Get all unique keys from all objects to form headers\r\n    const headers = Object.keys(table[0]).filter(key => key !== 'id');\r\n\r\n    // Function to handle table download as CSV (Bonus Requirement)\r\n    const handleDownloadCSV = () => {\r\n        // Prepare header row with capitalized titles\r\n        // FIX: Used backticks (`) for template literal for file name and CSV content\r\n        let csvContent = headers.map(h => `\"${h.split(' ').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ')}\"`).join(',') + '\\n';\r\n        \r\n        // Add data rows\r\n        table.forEach(row => {\r\n            const rowData = headers.map(header => {\r\n                let value = row[header];\r\n                if (value === undefined || value === null) value = '';\r\n                // Simple CSV formatting to handle commas and quotes in data\r\n                return `\"${String(value).replace(/\"/g, '\"\"')}\"`;\r\n            }).join(',');\r\n            csvContent += rowData + '\\n';\r\n        });\r\n\r\n        const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\r\n        const link = document.createElement(\"a\");\r\n        const url = URL.createObjectURL(blob);\r\n        link.setAttribute(\"href\", url);\r\n        link.setAttribute(\"download\", \"real_estate_data_details.csv\");\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        document.body.removeChild(link);\r\n    };\r\n\r\n\r\n    return (\r\n        <div className=\"bg-white dark:bg-gray-800 shadow-xl rounded-xl p-6 border border-indigo-400/50 transition-colors duration-300 overflow-x-auto\">\r\n            <div className=\"flex justify-between items-center mb-6\">\r\n                <h3 className=\"text-xl font-semibold text-gray-800 dark:text-gray-200\">Filtered Detailed Data</h3>\r\n                 <button\r\n                    onClick={handleDownloadCSV}\r\n                    className=\"px-4 py-2 text-sm rounded-lg text-white bg-indigo-600 hover:bg-indigo-700 transition duration-150 flex items-center shadow-md\"\r\n                >\r\n                    <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\"></path>\r\n                    </svg>\r\n                    Download Table (CSV)\r\n                </button>\r\n            </div>\r\n            <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\r\n                <thead className=\"bg-indigo-50 dark:bg-gray-700\">\r\n                    <tr>\r\n                        {headers.map((header) => (\r\n                            <th\r\n                                key={header}\r\n                                className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\"\r\n                            >\r\n                                {/* Display headers nicely by capitalizing words */}\r\n                                {header.split(' ').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ')}\r\n                            </th>\r\n                        ))}\r\n                    </tr>\r\n                </thead>\r\n                <tbody className=\"divide-y divide-gray-200 dark:divide-gray-700\">\r\n                    {table.map((row, rowIndex) => (\r\n                        <tr key={rowIndex} className=\"hover:bg-indigo-50/50 dark:hover:bg-gray-700/50 transition-colors duration-150\">\r\n                            {headers.map((header) => (\r\n                                <td key={header} className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100\">\r\n                                    {row[header] === undefined || row[header] === null ? '-' : String(row[header])}\r\n                                </td>\r\n                            ))}\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\n// --- 3. Main Application Component (App) ---\r\nconst App = () => {\r\n    const [loading, setLoading] = useState(false);\r\n    const [summary, setSummary] = useState(\"\");\r\n    const [chartData, setChartData] = useState(null);\r\n    const [tableData, setTableData] = useState([]);\r\n    const [areaName, setAreaName] = useState(\"\");\r\n    const [error, setError] = useState(null);\r\n    const [isDark, setIsDark] = useState(true);\r\n\r\n    // Initial dark mode setup (using Tailwind's dark class)\r\n    useEffect(() => {\r\n        // Toggle 'dark' class on the HTML element based on state\r\n        document.documentElement.classList.toggle('dark', isDark);\r\n    }, [isDark]);\r\n\r\n    const toggleDark = () => setIsDark(prev => !prev);\r\n\r\n\r\n    const handleQuery = async (text) => {\r\n        setError(null);\r\n        setLoading(true);\r\n        setAreaName(\"Processing...\");\r\n        \r\n        try {\r\n            const res = await fetchQuery(text);\r\n\r\n            setSummary(res.summary);\r\n            setChartData(res.chart);\r\n            setTableData(res.table);\r\n            setAreaName(res.area);\r\n            \r\n        } catch (e) {\r\n            console.error(\"Query Error:\", e.message);\r\n            setError(e.message);\r\n            // Provide a friendly error message for the UI\r\n            setSummary(\"Could not perform the analysis. Please check your Django backend logs for errors or ensure the area name is valid (e.g., 'Wakad').\");\r\n            setChartData(null);\r\n            setTableData([]);\r\n            setAreaName(\"Error\");\r\n        }\r\n        setLoading(false);\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen flex bg-gray-50 dark:bg-gray-900 font-sans transition-colors duration-300\">\r\n            <Sidebar isDark={isDark} toggleDark={toggleDark} />\r\n            <main className=\"flex-grow ml-64 p-8\">\r\n                <div className=\"max-w-7xl mx-auto\">\r\n                    \r\n                    {/* Header */}\r\n                    <header className=\"mb-10 pt-4\">\r\n                        <h2 className=\"text-3xl font-extrabold text-gray-900 dark:text-white\">Real Estate Market Dashboard</h2>\r\n                        <p className=\"mt-1 text-sm text-gray-500 dark:text-gray-400\">Ask a question to analyze trends for any locality in the dataset.</p>\r\n                    </header>\r\n\r\n                    {/* Query Box */}\r\n                    <QueryBox onSubmit={handleQuery} disabled={loading} />\r\n\r\n                    {/* Error Message */}\r\n                    {error && (\r\n                        <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4 dark:bg-red-900/50 dark:border-red-600 dark:text-red-400\" role=\"alert\">\r\n                            <strong className=\"font-bold\">Error! </strong>\r\n                            <span className=\"block sm:inline\">{error}</span>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Content */}\r\n                    {loading ? (\r\n                        <Loader />\r\n                    ) : (\r\n                        <>\r\n                            {/* Initial Message */}\r\n                            {!areaName && !error && (\r\n                                <div className=\"p-8 text-center text-gray-500 dark:text-gray-400 border border-dashed border-gray-300 dark:border-gray-700 rounded-xl\">\r\n                                    <p className=\"text-xl\">Welcome! Submit a query like \"Analyze Wakad\" to get started.</p>\r\n                                    <p className=\"mt-2 text-sm\">Make sure your Django server is running at **http://127.0.0.1:8000** and the **dataset.xlsx** file is accessible in your **data** folder.</p>\r\n                                </div>\r\n                            )}\r\n\r\n                            {/* Results */}\r\n                            {areaName && areaName !== \"Processing...\" && areaName !== \"Error\" && (\r\n                                <>\r\n                                    <SummaryCard summary={summary} area={areaName} />\r\n                                    <TrendChart chart={chartData} areaName={areaName} />\r\n                                    <DataTable table={tableData} />\r\n                                </>\r\n                            )}\r\n                        </>\r\n                    )}\r\n                </div>\r\n            </main>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}